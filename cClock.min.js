function cClock(a,b,c){"use strict";function o(b){var c=Math.ceil(b/2-1),d={radius:c,hourLength:c*a.hourLength,minuteLength:c*a.minuteLength,secondLength:c*a.secondLength,hourBackLength:c*a.hourBackLength,minuteBackLength:c*a.minuteBackLength,secondBackLength:c*(0===a.secondLength?0:a.secondBackLength),hourDialLength:c*(1-a.hourDialLength),minuteDialLength:c*(1-a.minuteDialLength)};return d}function p(){var a,b,d,e,f,g,h;l=q(),c===!0?l=t(10,8,30):c&&(l=t(c.hour,c.minute,c.second)),a=r(l.hour,k.hourLength,!0),b=r(l.minute,k.minuteLength,!1),d=r(l.second,k.secondLength),e=r(l.hour,k.hourBackLength,!0),f=r(l.minute,k.minuteBackLength,!1),g=r(l.second,k.secondBackLength),s(a,b,d,e,f,g),h=setTimeout(function(){p()},1e3),c&&clearTimeout(h)}function q(){var a=new Date,b={hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds()};return b}function r(a,b,c){function h(a){var b;return b=a?l.minute/60*(1/12)*j:a===!1?l.second/60*(1/60)*j:0}var d,e,f,g;return c&&(a>=12&&(a-=12),a*=5),d=h(c),e=(a/60+.25)*j+d,f=-b*Math.cos(e),g=-b*Math.sin(e),[f,g]}function s(b,c,d,e,f,i){function l(b){g.beginPath(),g.arc(0,0,b,0,j,!1),a.borderWidth&&(g.lineWidth=a.borderWidth,g.strokeStyle=a.borderColor,g.stroke()),g.fillStyle=a.bgColor,g.fill(),a.centerRadius&&(g.beginPath(),g.arc(0,0,a.centerRadius,0,j,!1),g.fillStyle=a.handColor,g.fill())}function m(){function e(){var c,d;for(b=0;60>b;b++)c=r(b,k.minuteDialLength-a.padding),d=r(b,k.radius-a.padding),g.moveTo(c[0],c[1]),g.lineTo(d[0],d[1]);g.lineWidth=a.minuteDialWidth,g.stroke()}g.beginPath();var b,c,d;for(b=0;60>b;b+=5)c=r(b,k.hourDialLength-a.padding),d=r(b,k.radius-a.padding),g.moveTo(c[0],c[1]),g.lineTo(d[0],d[1]);g.lineCap="butt",g.lineWidth=a.hourDialWidth,g.strokeStyle=a.dialColor,g.stroke(),a.minuteDialWidth&&a.minuteDialLength&&e()}function n(){g.beginPath(),g.lineCap=a.handStyle,g.strokeStyle=a.handColor,g.moveTo(-e[0],-e[1]),g.lineTo(b[0],b[1]),g.lineWidth=a.hourWidth,g.stroke(),g.moveTo(-f[0],-f[1]),g.lineTo(c[0],c[1]),g.lineWidth=a.minuteWidth,g.stroke(),g.moveTo(-i[0],-i[1]),g.lineTo(d[0],d[1]),g.lineWidth=a.secondWidth,g.stroke()}g.clearRect(-h/2,-h/2,h,h),l(k.radius),a.hourDialWidth&&a.hourDialLength&&m(),n()}function t(a,b,c){if(a>=0&&b>=0&&c>=0)return n={hour:a,minute:b,second:c};if(0===m){var d=new Date;n={hour:d.getHours(),minute:d.getMinutes(),second:d.getSeconds()},m++}else 59===n.second?(n.second=0,n.minute++):n.second++,60===n.minute&&(n.minute=0,n.hour++),24===n.hour&&(n.hour=0);return n}var e,f,g,h,i,l,j,k,n,m,d=document.querySelector("[data-cClock="+b+"]");if(!d)return!1;e={hourLength:.65,hourWidth:2,minuteLength:.85,minuteWidth:2,secondLength:.8,secondWidth:2,handColor:"#000",handStyle:"butt",centerRadius:5,hourBackLength:.2,minuteBackLength:.2,secondBackLength:.2,borderWidth:2,borderColor:"#000",padding:0,bgColor:"#fff",hourDialWidth:2,hourDialLength:.15,minuteDialWidth:2,minuteDialLength:.08,dialColor:"#000"};for(f in e)a.hasOwnProperty(f)||(a[f]=e[f]);g=d.getContext("2d"),h=d.offsetWidth,g.translate(h/2,h/2),i=h-a.borderWidth,j=2*Math.PI,k=o(i),c&&(m=0),p()}
