/*!
 * cClock.js 1.1.0
 *
 * https://github.com/pciapcib/cClock
 *
 * MIT licensed
 *
 * Copyright (c) 2016 Ting Shen
 */
function cClock(e,b,m){var d=document.getElementsByClassName(b)[0];if(!d){return false}var q={hourLength:0.65,minuteLength:0.85,secondLength:0.8,handWidth:2,handColor:"#000",handStyle:"round",centerRadius:5,hourBackLength:0.2,minuteBackLength:0.2,secondBackLength:0.2,borderWidth:2,borderColor:"#000",padding:0,bgColor:"#fff",hourDialWidth:2,hourDialLength:0.15,minuteDialWidth:2,minuteDialLength:0.08,dialColor:"#000"};var c=d.getContext("2d");var r=d.offsetWidth;c.translate(r/2,r/2);var h=r-(e.borderWidth||q.borderWidth);var i=2*Math.PI,n=o(h),l;if(m){var k=0,p}g();function o(u){var t=Math.ceil(u/2-1);var v={radius:t,hourLength:t*(e.hourLength||q.hourLength),minuteLength:t*(e.minuteLength||q.minuteLength)};v.secondLength=e.secondLength?t*e.secondLength:(e.secondLength===0?0:t*q.secondLength);v.hourBackLength=e.hourBackLength?t*e.hourBackLength:(e.hourBackLength===0?0:t*q.hourBackLength);v.minuteBackLength=e.minuteBackLength?t*e.minuteBackLength:(e.minuteBackLength===0?0:t*q.minuteBackLength);v.secondBackLength=e.secondLength===0?0:(e.secondBackLength?t*e.secondBackLength:(e.secondBackLength===0?0:t*q.secondBackLength));v.hourDialLength=e.hourDialLength?t*(1-e.hourDialLength):(e.hourDialLength===0?0:t*(1-q.hourDialLength));v.minuteDialLength=e.minuteDialLength?t*(1-e.minuteDialLength):(e.minuteDialLength===0?0:t*(1-q.minuteDialLength));return v}function g(){l=s();if(m===true){l=j(10,8,30)}else{if(m){l=j(m.hour,m.minute,m.second)}}var u=f(l.hour,n.hourLength,true);var t=f(l.minute,n.minuteLength,false);var v=f(l.second,n.secondLength);var y=f(l.hour,n.hourBackLength,true);var w=f(l.minute,n.minuteBackLength,false);var x=f(l.second,n.secondBackLength);a(u,t,v,y,w,x);setTimeout(function(){g()},1000)}function s(){var t=new Date();var u={hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds()};return u}function f(z,u,v){if(v){if(z>=12){z-=12}z*=5}var w=A(v);var B=(z/60+1/4)*i+w;var t=-Math.round(u*Math.cos(B));var C=-Math.round(u*Math.sin(B));return[t,C];function A(x){var y;if(x){y=(l.minute/60)*(1/12)*i}else{if(x===false){y=(l.second/60)*(1/60)*i}else{y=0}}return y}}function a(z,w,t,x,u,v){c.clearRect(-r/2,-r/2,r,r);y(n.radius);if(!(e.hourDialWidth===0||e.hourDialLength===0)){A()}B();function y(C){c.beginPath();c.arc(0,0,C,0,i,false);if(e.borderWidth||e.borderWidth===undefined){c.lineWidth=e.borderWidth||q.borderWidth;c.strokeStyle=e.borderColor||q.borderColor;c.stroke()}c.fillStyle=e.bgColor||q.bgColor;c.fill();if(e.centerRadius||e.centerRadius===undefined){c.beginPath();c.arc(0,0,e.centerRadius||q.centerRadius,0,i,false);c.fillStyle=e.handColor||"#000";c.fill()}}function A(){c.beginPath();var C,F,D;for(C=0;C<60;C+=5){F=f(C,n.hourDialLength-(e.padding||q.padding));D=f(C,n.radius-(e.padding||q.padding));c.moveTo(F[0],F[1]);c.lineTo(D[0],D[1])}c.lineCap="butt";c.lineWidth=e.hourDialWidth||q.hourDialWidth;c.strokeStyle=e.dialColor||q.dialColor;c.stroke();if(!(e.minuteDialWidth===0||e.minuteDialLength===0)){E()}function E(){var H,G;for(C=0;C<60;C++){H=f(C,n.minuteDialLength-(e.padding||q.padding));G=f(C,n.radius-(e.padding||q.padding));c.moveTo(H[0],H[1]);c.lineTo(G[0],G[1])}c.lineWidth=e.minuteDialWidth||q.minuteDialWidth;c.stroke()}}function B(){c.beginPath();c.moveTo(-x[0],-x[1]);c.lineTo(z[0],z[1]);c.moveTo(-u[0],-u[1]);c.lineTo(w[0],w[1]);c.moveTo(-v[0],-v[1]);c.lineTo(t[0],t[1]);c.lineWidth=e.handWidth||q.handWidth;c.lineCap=e.handStyle||q.handStyle;c.strokeStyle=e.handColor||q.handColor;c.stroke()}}function j(t,w,u){if(t>=0&&w>=0&&u>=0){p={hour:t,minute:w,second:u};return p}if(k===0){var v=new Date();p={hour:v.getHours(),minute:v.getMinutes(),second:v.getSeconds()};k++}else{if(p.second==59){p.second=0;p.minute++}else{p.second++}if(p.minute==60){p.minute=0;p.hour++}if(p.hour==24){p.hour=0}}return p}};
