/*!
 * cClock.js 1.2.0
 *
 * https://github.com/pciapcib/cClock
 *
 * MIT licensed
 *
 * Copyright (c) 2016 Ting Shen
 */
function cClock(a,b,c){function n(b){var c=Math.ceil(b/2-1),d={radius:c,hourLength:c*(a.hourLength||e.hourLength),minuteLength:c*(a.minuteLength||e.minuteLength)};return d.secondLength=a.secondLength?c*a.secondLength:0===a.secondLength?0:c*e.secondLength,d.hourBackLength=a.hourBackLength?c*a.hourBackLength:0===a.hourBackLength?0:c*e.hourBackLength,d.minuteBackLength=a.minuteBackLength?c*a.minuteBackLength:0===a.minuteBackLength?0:c*e.minuteBackLength,d.secondBackLength=0===a.secondLength?0:a.secondBackLength?c*a.secondBackLength:0===a.secondBackLength?0:c*e.secondBackLength,d.hourDialLength=a.hourDialLength?c*(1-a.hourDialLength):0===a.hourDialLength?0:c*(1-e.hourDialLength),d.minuteDialLength=a.minuteDialLength?c*(1-a.minuteDialLength):0===a.minuteDialLength?0:c*(1-e.minuteDialLength),d}function o(){var a,b,d,e,f,g,h;k=p(),c===!0?k=s(10,8,30):c&&(k=s(c.hour,c.minute,c.second)),a=q(k.hour,j.hourLength,!0),b=q(k.minute,j.minuteLength,!1),d=q(k.second,j.secondLength),e=q(k.hour,j.hourBackLength,!0),f=q(k.minute,j.minuteBackLength,!1),g=q(k.second,j.secondBackLength),r(a,b,d,e,f,g),h=setTimeout(function(){o()},1e3),c&&clearTimeout(h)}function p(){var a=new Date,b={hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds()};return b}function q(a,b,c){function h(a){var b;return b=a?k.minute/60*(1/12)*i:a===!1?k.second/60*(1/60)*i:0}var d,e,f,g;return c&&(a>=12&&(a-=12),a*=5),d=h(c),e=(a/60+.25)*i+d,f=-Math.round(b*Math.cos(e)),g=-Math.round(b*Math.sin(e)),[f,g]}function r(b,c,d,h,k,l){function m(b){f.beginPath(),f.arc(0,0,b,0,i,!1),(a.borderWidth||void 0===a.borderWidth)&&(f.lineWidth=a.borderWidth||e.borderWidth,f.strokeStyle=a.borderColor||e.borderColor,f.stroke()),f.fillStyle=a.bgColor||e.bgColor,f.fill(),(a.centerRadius||void 0===a.centerRadius)&&(f.beginPath(),f.arc(0,0,a.centerRadius||e.centerRadius,0,i,!1),f.fillStyle=a.handColor||"#000",f.fill())}function n(){function g(){var c,d;for(b=0;60>b;b++)c=q(b,j.minuteDialLength-(a.padding||e.padding)),d=q(b,j.radius-(a.padding||e.padding)),f.moveTo(c[0],c[1]),f.lineTo(d[0],d[1]);f.lineWidth=a.minuteDialWidth||e.minuteDialWidth,f.stroke()}f.beginPath();var b,c,d;for(b=0;60>b;b+=5)c=q(b,j.hourDialLength-(a.padding||e.padding)),d=q(b,j.radius-(a.padding||e.padding)),f.moveTo(c[0],c[1]),f.lineTo(d[0],d[1]);f.lineCap="butt",f.lineWidth=a.hourDialWidth||e.hourDialWidth,f.strokeStyle=a.dialColor||e.dialColor,f.stroke(),0!==a.minuteDialWidth&&0!==a.minuteDialLength&&g()}function o(){f.beginPath(),f.lineCap=a.handStyle||e.handStyle,f.strokeStyle=a.handColor||e.handColor,f.moveTo(-h[0],-h[1]),f.lineTo(b[0],b[1]),f.lineWidth=a.hourWidth||e.hourWidth,f.stroke(),f.moveTo(-k[0],-k[1]),f.lineTo(c[0],c[1]),f.lineWidth=a.minuteWidth||e.minuteWidth,f.stroke(),f.moveTo(-l[0],-l[1]),f.lineTo(d[0],d[1]),f.lineWidth=a.secondWidth||e.secondWidth,f.stroke()}f.clearRect(-g/2,-g/2,g,g),m(j.radius),0!==a.hourDialWidth&&0!==a.hourDialLength&&n(),o()}function s(a,b,c){if(a>=0&&b>=0&&c>=0)return m={hour:a,minute:b,second:c};if(0===l){var d=new Date;m={hour:d.getHours(),minute:d.getMinutes(),second:d.getSeconds()},l++}else 59==m.second?(m.second=0,m.minute++):m.second++,60==m.minute&&(m.minute=0,m.hour++),24==m.hour&&(m.hour=0);return m}var e,f,g,h,k,i,j,m,l,d=document.getElementsByClassName(b)[0];return d?(e={hourLength:.65,hourWidth:2,minuteLength:.85,minuteWidth:2,secondLength:.8,secondWidth:2,handColor:"#000",handStyle:"butt",centerRadius:5,hourBackLength:.2,minuteBackLength:.2,secondBackLength:.2,borderWidth:2,borderColor:"#000",padding:0,bgColor:"#fff",hourDialWidth:2,hourDialLength:.15,minuteDialWidth:2,minuteDialLength:.08,dialColor:"#000"},f=d.getContext("2d"),g=d.offsetWidth,f.translate(g/2,g/2),h=g-(a.borderWidth||e.borderWidth),i=2*Math.PI,j=n(h),c&&(l=0),o(),void 0):!1}
