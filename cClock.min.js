function cClock(n){var g=document.getElementById("canvas");if(!g){return false}var i={hourLength:0.65,minuteLength:0.85,secondLength:0.8,handWidth:2,handColor:"#000",handStyle:"round",centerRadius:5,hourBackLength:0.2,minuteBackLength:0.2,secondBackLength:0.2,borderWidth:2,borderColor:"#000",padding:0,bgColor:"#fff",hourDialWidth:2,hourDialLength:0.15,minuteDialWidth:2,minuteDialLength:0.08,dialColor:"#000"};var e=g.getContext("2d");var h=g.offsetWidth;e.translate(h/2,h/2);var d=h-(n.borderWidth||i.borderWidth);var j=2*Math.PI,b=f(d),c;m();function f(p){var o=Math.ceil(p/2-1);var q={radius:o,hourLength:o*(n.hourLength||i.hourLength),minuteLength:o*(n.minuteLength||i.minuteLength)};q.secondLength=n.secondLength?o*n.secondLength:(n.secondLength===0?0:o*i.secondLength);q.hourBackLength=n.hourBackLength?o*n.hourBackLength:(n.hourBackLength===0?0:o*i.hourBackLength);q.minuteBackLength=n.minuteBackLength?o*n.minuteBackLength:(n.minuteBackLength===0?0:o*i.minuteBackLength);q.secondBackLength=n.secondLength===0?0:(n.secondBackLength?o*n.secondBackLength:(n.secondBackLength===0?0:o*i.secondBackLength));q.hourDialLength=n.hourDialLength?o*(1-n.hourDialLength):(n.hourDialLength===0?0:o*(1-i.hourDialLength));q.minuteDialLength=n.minuteDialLength?o*(1-n.minuteDialLength):(n.minuteDialLength===0?0:o*(1-i.minuteDialLength));return q}function m(){c=k();var p=l(c.hour,b.hourLength,true);var o=l(c.minute,b.minuteLength,false);var q=l(c.second,b.secondLength);var t=l(c.hour,b.hourBackLength,true);var r=l(c.minute,b.minuteBackLength,false);var s=l(c.second,b.secondBackLength);a(p,o,q,t,r,s);setTimeout(function(){m()},1000)}function k(){var o=new Date();var p={hour:o.getHours(),minute:o.getMinutes(),second:o.getSeconds()};return p}function l(s,p,q){if(q){if(s>=12){s-=12}s*=5}var r=t(q);var u=(s/60+1/4)*j+r;var o=-Math.round(p*Math.cos(u));var v=-Math.round(p*Math.sin(u));return[o,v];function t(w){var x;if(w){x=(c.minute/60)*(1/12)*j}else{if(w===false){x=(c.second/60)*(1/60)*j}else{x=0}}return x}}function a(u,r,o,s,p,q){e.clearRect(-h/2,-h/2,h,h);t(b.radius);if(!(n.hourDialWidth===0||n.hourDialLength===0)){v()}w();function t(x){e.beginPath();e.arc(0,0,x,0,j,false);if(n.borderWidth||n.borderWidth===undefined){e.lineWidth=n.borderWidth||i.borderWidth;e.strokeStyle=n.borderColor||i.borderColor;e.stroke()}e.fillStyle=n.bgColor||i.bgColor;e.fill();if(n.centerRadius||n.centerRadius===undefined){e.beginPath();e.arc(0,0,n.centerRadius||i.centerRadius,0,j,false);e.fillStyle=n.handColor||"#000";e.fill()}}function v(){e.beginPath();var x,A,y;for(x=0;x<60;x+=5){A=l(x,b.hourDialLength-(n.padding||i.padding));y=l(x,b.radius-(n.padding||i.padding));e.moveTo(A[0],A[1]);e.lineTo(y[0],y[1])}e.lineCap="butt";e.lineWidth=n.hourDialWidth||i.hourDialWidth;e.strokeStyle=n.dialColor||i.dialColor;e.stroke();if(!(n.minuteDialWidth===0||n.minuteDialLength===0)){z()}function z(){var C,B;for(x=0;x<60;x++){C=l(x,b.minuteDialLength-(n.padding||i.padding));B=l(x,b.radius-(n.padding||i.padding));e.moveTo(C[0],C[1]);e.lineTo(B[0],B[1])}e.lineWidth=n.minuteDialWidth||i.minuteDialWidth;e.stroke()}}function w(){e.beginPath();e.moveTo(-s[0],-s[1]);e.lineTo(u[0],u[1]);e.moveTo(-p[0],-p[1]);e.lineTo(r[0],r[1]);e.moveTo(-q[0],-q[1]);e.lineTo(o[0],o[1]);e.lineWidth=n.handWidth||i.handWidth;e.lineCap=n.handStyle||i.handStyle;e.strokeStyle=n.handColor||i.handColor;e.stroke()}}};
