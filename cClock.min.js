function cClock(a){"use strict";function o(a){var b=Math.ceil(a/2-1),d={radius:b,hourLength:b*c.hourLength,minuteLength:b*c.minuteLength,secondLength:b*c.secondLength,hourBackLength:b*c.hourBackLength,minuteBackLength:b*c.minuteBackLength,secondBackLength:b*(0===c.secondLength?0:c.secondBackLength),hourDialLength:b*(1-c.hourDialLength),minuteDialLength:b*(1-c.minuteDialLength)};return d}function p(){var a,b,c,e,f,g,h;l=q(),d===!0?l=t(10,8,30):d&&(l=t(d.hour,d.minute,d.second)),a=r(l.hour,k.hourLength,!0),b=r(l.minute,k.minuteLength,!1),c=r(l.second,k.secondLength),e=r(l.hour,k.hourBackLength,!0),f=r(l.minute,k.minuteBackLength,!1),g=r(l.second,k.secondBackLength),s(a,b,c,e,f,g),h=setTimeout(function(){p()},1e3),d&&clearTimeout(h)}function q(){var a=new Date,b={hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds()};return b}function r(a,b,c){function h(a){var b;return b=a?l.minute/60*(1/12)*j:a===!1?l.second/60*(1/60)*j:0}var d,e,f,g;return c&&(a>=12&&(a-=12),a*=5),d=h(c),e=(a/60+.25)*j+d,f=-b*Math.cos(e),g=-b*Math.sin(e),[f,g]}function s(a,b,d,e,f,i){function l(a){g.beginPath(),g.arc(0,0,a,0,j,!1),c.borderWidth&&(g.lineWidth=c.borderWidth,g.strokeStyle=c.borderColor,g.stroke()),g.fillStyle=c.bgColor,g.fill(),c.centerRadius&&(g.beginPath(),g.arc(0,0,c.centerRadius,0,j,!1),g.fillStyle=c.handColor,g.fill())}function m(){function e(){var b,d;for(a=0;60>a;a++)b=r(a,k.minuteDialLength-c.padding),d=r(a,k.radius-c.padding),g.moveTo(b[0],b[1]),g.lineTo(d[0],d[1]);g.lineWidth=c.minuteDialWidth,g.stroke()}g.beginPath();var a,b,d;for(a=0;60>a;a+=5)b=r(a,k.hourDialLength-c.padding),d=r(a,k.radius-c.padding),g.moveTo(b[0],b[1]),g.lineTo(d[0],d[1]);g.lineCap="butt",g.lineWidth=c.hourDialWidth,g.strokeStyle=c.dialColor,g.stroke(),c.minuteDialWidth&&c.minuteDialLength&&e()}function n(){g.beginPath(),g.lineCap=c.handStyle,g.strokeStyle=c.handColor,g.moveTo(-e[0],-e[1]),g.lineTo(a[0],a[1]),g.lineWidth=c.hourWidth,g.stroke(),g.moveTo(-f[0],-f[1]),g.lineTo(b[0],b[1]),g.lineWidth=c.minuteWidth,g.stroke(),g.moveTo(-i[0],-i[1]),g.lineTo(d[0],d[1]),g.lineWidth=c.secondWidth,g.stroke()}g.clearRect(-h/2,-h/2,h,h),l(k.radius),c.hourDialWidth&&c.hourDialLength&&m(),n()}function t(a,b,c){if(a>=0&&b>=0&&c>=0)return n={hour:a,minute:b,second:c};if(0===m){var d=new Date;n={hour:d.getHours(),minute:d.getMinutes(),second:d.getSeconds()},m++}else 59===n.second?(n.second=0,n.minute++):n.second++,60===n.minute&&(n.minute=0,n.hour++),24===n.hour&&(n.hour=0);return n}var c,d,e,f,g,h,i,l,j,k,n,m,b=document.querySelector("#"+a.id);if(!b)return!1;c=a.options||{},d=a.showTime,e={hourLength:.65,hourWidth:2,minuteLength:.85,minuteWidth:2,secondLength:.8,secondWidth:2,handColor:"#000",handStyle:"butt",centerRadius:5,hourBackLength:.2,minuteBackLength:.2,secondBackLength:.2,borderWidth:2,borderColor:"#000",padding:0,bgColor:"#fff",hourDialWidth:2,hourDialLength:.15,minuteDialWidth:2,minuteDialLength:.08,dialColor:"#000"};for(f in e)c.hasOwnProperty(f)||(c[f]=e[f]);g=b.getContext("2d"),h=b.offsetWidth,g.translate(h/2,h/2),i=h-c.borderWidth,j=2*Math.PI,k=o(i),d&&(m=0),p()}
